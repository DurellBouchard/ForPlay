
/**
 * @namespace
 */
var state = {};

//------------------------------------------------------------------------------
// Constants
//------------------------------------------------------------------------------

state.COOKIE_EXPIRATION_DAYS = 30;


//------------------------------------------------------------------------------
// Private Variables
//------------------------------------------------------------------------------
// state.puzzles = [[{xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 8},
//                  par: 0},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [1, 3, 5, 7, 9, 11, 13, 15, 17],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 16},
//                  par: 0},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [0, 2, 4, 6, 8, 10, 12, 14, 16],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 16},
//                  par: 0},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [17, 15, 13, 11, 9, 7, 5, 3, 1],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 16},
//                  par: 1}],
//                [{xValues: [0, 1, 2, 3, 4, 5, 6, 7],
//                  yValues: [1, 2, 3, 4, 5, 6, 7, 8],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 8},
//                  par: 1},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [1, 3, 5, 7, 9, 11, 13, 15, 17],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 16},
//                  par: 2},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
//                  yValues: [-1, -2, -3, -4, -5, -6, -7, -8],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: -8, end: 0},
//                  par: 3},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
//                  yValues: [15, 13, 11, 9, 7, 5, 3, 1],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 16},
//                  par: 2},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [0, 1, 4, 9, 16, 25, 36, 49, 64],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 64},
//                  par: 1}],
//                [{xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 8},
//                  par: 1},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [1, 3, 5, 7, 9, 11, 13, 15, 17],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 16},
//                  par: 1},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
//                  yValues: [15, 13, 11, 9, 7, 5, 3, 1],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 16},
//                  par: 1},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [2, 4, 8, 16, 32, 64, 128, 256, 512],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 512},
//                  par: 1},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [-1, -2, -4, -8, -16, -32, -64, -128, -256],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: -256, end: 0},
//                  par: 2},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [256, 128, 64, 32, 16, 8, 4, 2, 1],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: 0, end: 256},
//                  par: 1},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [4, -4, 4, -4, 4, -4, 4, -4, 4],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: -4, end: 4},
//                  par: 2},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
//                  yValues: [-1, 2, -4, 8, -16, 32, -64, 128],
//                  xRange: {start:0, end: 8},
//                  yRange: {start: -128, end: 128},
//                  par: 3}],
//                [{xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [1, 2, 4, 7, 11, 16, 22, 29, 37],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 64},
//                  par: 2},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [1, -1, 2, 0, 3, 1, 4, 2, 5],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 4},
//                  par: 3}],
//                [{xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  yValues: [1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 4},
//                  par: 0},
//                 {xValues: [4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5],
//                  yValues: [0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 8},
//                  par: 0},
//                 {xValues: [3, 3, 3, 3, 3, 3, 3, 3, 3],
//                  yValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 8}},
//                 {xValues: [0, 0, 1, 0, 1, 2, 0, 1, 2, 3, 0, 1, 2, 3, 4],
//                  yValues: [0, 1, 1, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 4}},
//                 {xValues: [0, 1, 2, 3, 4, 0, 1, 2, 3, 0, 1, 2, 0, 1, 0],
//                  yValues: [0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 3, 3, 4],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 4}},
//                 {xValues: [0, 2, 4, 6, 8, 2, 4, 6, 8, 4, 6, 8, 6, 8, 8],
//                  yValues: [4, 4, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 1, 1, 0],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 4}},
//                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6, 7, 2, 3, 4, 5, 6, 3, 4, 5, 4],
//                  yValues: [4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 1, 0],
//                  xRange: {start: 0, end: 8},
//                  yRange: {start: 0, end: 4}}]];

state.puzzles = [[{xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 8},
                 par: 0},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [1, 3, 5, 7, 9, 11, 13, 15, 17],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 0},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [0, 2, 4, 6, 8, 10, 12, 14, 16],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 0},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [17, 15, 13, 11, 9, 7, 5, 3, 1],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 1},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 8},
                 par: 0},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [1, 3, 5, 7, 9, 11, 13, 15, 17],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 0},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [0, 2, 4, 6, 8, 10, 12, 14, 16],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 0},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [17, 15, 13, 11, 9, 7, 5, 3, 1],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 1}],
               [{xValues: [0, 1, 2, 3, 4, 5, 6, 7],
                 yValues: [1, 2, 3, 4, 5, 6, 7, 8],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 8},
                 par: 1},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [1, 3, 5, 7, 9, 11, 13, 15, 17],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 2},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
                 yValues: [-1, -2, -3, -4, -5, -6, -7, -8],
                 xRange: {start:0, end: 8},
                 yRange: {start: -8, end: 0},
                 par: 3},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
                 yValues: [15, 13, 11, 9, 7, 5, 3, 1],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 2},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [0, 1, 4, 9, 16, 25, 36, 49, 64],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 64},
                 par: 1},
                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
                  yValues: [-1, -2, -3, -4, -5, -6, -7, -8],
                  xRange: {start:0, end: 8},
                  yRange: {start: -8, end: 0},
                  par: 3},
                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
                  yValues: [15, 13, 11, 9, 7, 5, 3, 1],
                  xRange: {start:0, end: 8},
                  yRange: {start: 0, end: 16},
                  par: 2},
                 {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                  yValues: [0, 1, 4, 9, 16, 25, 36, 49, 64],
                  xRange: {start:0, end: 8},
                  yRange: {start: 0, end: 64},
                  par: 1}],
               [{xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 8},
                 par: 1},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [1, 3, 5, 7, 9, 11, 13, 15, 17],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 1},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
                 yValues: [15, 13, 11, 9, 7, 5, 3, 1],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 16},
                 par: 1},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [2, 4, 8, 16, 32, 64, 128, 256, 512],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 512},
                 par: 1},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [-1, -2, -4, -8, -16, -32, -64, -128, -256],
                 xRange: {start:0, end: 8},
                 yRange: {start: -256, end: 0},
                 par: 2},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [256, 128, 64, 32, 16, 8, 4, 2, 1],
                 xRange: {start:0, end: 8},
                 yRange: {start: 0, end: 256},
                 par: 1},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [4, -4, 4, -4, 4, -4, 4, -4, 4],
                 xRange: {start:0, end: 8},
                 yRange: {start: -4, end: 4},
                 par: 2},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7],
                 yValues: [-1, 2, -4, 8, -16, 32, -64, 128],
                 xRange: {start:0, end: 8},
                 yRange: {start: -128, end: 128},
                 par: 3}],
               [{xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8],
                 yValues: [1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3],
                 xRange: {start: 0, end: 8},
                 yRange: {start: 0, end: 4},
                 par: 0},
                {xValues: [4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5, 4, 5],
                 yValues: [0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8],
                 xRange: {start: 0, end: 8},
                 yRange: {start: 0, end: 8},
                 par: 0},
                {xValues: [3, 3, 3, 3, 3, 3, 3, 3, 3],
                 yValues: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                 xRange: {start: 0, end: 8},
                 yRange: {start: 0, end: 8}},
                {xValues: [0, 0, 1, 0, 1, 2, 0, 1, 2, 3, 0, 1, 2, 3, 4],
                 yValues: [0, 1, 1, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4],
                 xRange: {start: 0, end: 8},
                 yRange: {start: 0, end: 4}},
                {xValues: [0, 1, 2, 3, 4, 0, 1, 2, 3, 0, 1, 2, 0, 1, 0],
                 yValues: [0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 3, 3, 4],
                 xRange: {start: 0, end: 8},
                 yRange: {start: 0, end: 4}},
                {xValues: [0, 2, 4, 6, 8, 2, 4, 6, 8, 4, 6, 8, 6, 8, 8],
                 yValues: [4, 4, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 1, 1, 0],
                 xRange: {start: 0, end: 8},
                 yRange: {start: 0, end: 4}},
                {xValues: [0, 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6, 7, 2, 3, 4, 5, 6, 3, 4, 5, 4],
                 yValues: [4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 1, 1, 1, 0],
                 xRange: {start: 0, end: 8},
                 yRange: {start: 0, end: 4}},
                {xValues: [],
                 yValues: [],
                 xRange: {start: 0, end: 8},
                 yRange: {start: 0, end: 8}}]];

state.currentPuzzle = undefined;
state.currentLevel = undefined;
state.scores = undefined;
state.answers = undefined;
// TODO: add function to get the current puzzle to simplify getting it repeatedly

//------------------------------------------------------------------------------
// Private Functions
//------------------------------------------------------------------------------

state.writeCookie = function(cookieName, cookieValue) {
  var date = new Date();
  var cookieExpirationMS = state.COOKIE_EXPIRATION_DAYS * 86400000;
  date.setTime(date.getTime() + cookieExpirationMS);
  var expirationString = date.toGMTString();
  document.cookie = cookieName + '=' + cookieValue +
                    '; expires=' + expirationString;
}

//------------------------------------------------------------------------------
// Public Functions
//------------------------------------------------------------------------------

state.setCurrent = function(newLevel, newPuzzle) {
  state.currentLevel = newLevel;
  state.currentPuzzle = newPuzzle;
  state.writeCookie('loopGameCurrentLevel', state.currentLevel);
  state.writeCookie('loopGameCurrentPuzzle', state.currentPuzzle);
}
